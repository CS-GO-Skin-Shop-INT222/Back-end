datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model users {
  UserID     Int          @id @default(autoincrement())
  Name       String       @unique
  Email      String       @unique
  Tel        String
  Password   String
  Credit     Int
  MarketItem MarketItem[]
}

model MarketItem {
  ItemID             Int                  @id @default(autoincrement())
  Name_item          String
  Price              String
  Description        String
  Date               DateTime
  UserID             Int
  TypeID             String
  users              users                @relation(fields: [UserID], references: [UserID])
  TypeOfItem         TypeOfItem           @relation(fields: [TypeID], references: [TypeID])
  MarketItem_Sticker MarketItem_Sticker[]
}

model TypeOfItem {
  TypeID     String       @id
  TypeName   String
  MarketItem MarketItem[]
}

model MarketItem_Sticker {
  ItemID    Int
  UserID    Int
  StickerID String
  TypeID    String

  MarketItem MarketItem @relation(fields: [ItemID], references: [ItemID])
  Sticker    Sticker    @relation(fields: [StickerID], references: [StickerID])


  @@id([ItemID, UserID, StickerID])
}

model Sticker {
  StickerID          String               @id
  StickerName        String
  MarketItem_Sticker MarketItem_Sticker[]
}
