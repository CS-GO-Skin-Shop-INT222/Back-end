generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  UserID     Int          @id @unique @default(autoincrement())
  Name       String       @unique @db.VarChar(20)
  Email      String       @unique @db.VarChar(45)
  Tel        String       @db.VarChar(45)
  Password   String       @db.VarChar(256)
  Credit     Int?
  marketitem marketitem[]
}

model marketitem {
  ItemID             Int                  @unique @default(autoincrement())
  Name_item          String               @db.VarChar(45)
  Price              Int
  Description        String               @db.VarChar(256)
  Date               DateTime             @db.Timestamp(0)
  UserID             Int
  TypeID             String               @db.VarChar(20)
  typeofitem         typeofitem           @relation(fields: [TypeID], references: [TypeID])
  users              users                @relation(fields: [UserID], references: [UserID])
  marketitem_sticker marketitem_sticker[]

  @@id([ItemID, UserID, TypeID])
  @@index([TypeID], name: "fk_MarketItem_TypeOfItem1_idx")
  @@index([UserID], name: "fk_MarketItem_Users_idx")
}

model marketitem_sticker {
  ItemID     Int
  UserID     Int
  StickerID  String     @db.VarChar(20)
  marketitem marketitem @relation(fields: [ItemID, UserID], references: [ItemID, UserID])
  sticker    sticker    @relation(fields: [StickerID], references: [StickerID])

  @@id([ItemID, UserID, StickerID])
  @@index([ItemID, UserID], name: "fk_MarketItem_has_Sticker_MarketItem1_idx")
  @@index([StickerID], name: "fk_MarketItem_has_Sticker_Sticker1_idx")
}

model sticker {
  StickerID          String               @id @unique @db.VarChar(20)
  StickerName        String               @unique @db.VarChar(100)
  marketitem_sticker marketitem_sticker[]
}

model typeofitem {
  TypeID     String       @id @unique @db.VarChar(20)
  TypeName   String       @unique @db.VarChar(45)
  marketitem marketitem[]
}
